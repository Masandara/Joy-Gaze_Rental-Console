<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8" />
    <meta name="author" content="templatemo" />
    <meta
      name="viewport"
      content="width=device-width, initial-scale=1, shrink-to-fit=no"
    />

    <link
      href="https://fonts.googleapis.com/css2?family=Roboto:wght@100;300;400;500;700;900&display=swap"
      rel="stylesheet"
    />

    <title>Joy Gaze</title>

    <!-- Bootstrap core CSS -->
    <link href="vendor/bootstrap/css/bootstrap.min.css" rel="stylesheet" />

    <!-- Additional CSS Files -->
    <link rel="stylesheet" href="assets/css/fontawesome.css" />
    <link rel="stylesheet" href="assets/css/templatemo-liberty-market.css" />
    <link rel="stylesheet" href="assets/css/owl.css" />
    <link rel="stylesheet" href="assets/css/animate.css" />
    <link
      rel="stylesheet"
      href="https://unpkg.com/swiper@7/swiper-bundle.min.css"
    />
    <!--

TemplateMo 577 Liberty Market

https://templatemo.com/tm-577-liberty-market

-->
  </head>
  <style>
    .div-container {
      display: block;
      clear: both;
    }
    .col-lg-4,
    .col-lg-8 {
      display: block;
      float: none;
    }

    .input-container {
      position: relative;
    }

    .options {
      list-style: none;
      padding: 0;
      background-color: white;
      border: 1px solid #ccc;
      position: absolute;
      top: 100%;
      left: 0;
      display: none;
      width: 100%;
      z-index: 1;
    }

    .options li {
      cursor: pointer;
      padding: 5px;
    }
  </style>

  <script>
    document.addEventListener("DOMContentLoaded", function () {
      var inputElement = document.getElementById("description");
      var optionsElement = document.getElementById("options");

      inputElement.addEventListener("click", function () {
        if (optionsElement.style.display === "none") {
          optionsElement.style.display = "block";
        } else {
          optionsElement.style.display = "none";
        }
      });

      optionsElement.addEventListener("click", function (e) {
        if (e.target && e.target.matches("li")) {
          var selectedValue = e.target.getAttribute("data-value");
          inputElement.value = selectedValue;
          optionsElement.style.display = "none";
        }
      });
    });
  </script>
  <body>
    <!-- ***** Preloader Start ***** -->
    <div id="js-preloader" class="js-preloader">
      <div class="preloader-inner">
        <span class="dot"></span>
        <div class="dots">
          <span></span>
          <span></span>
          <span></span>
        </div>
      </div>
    </div>
    <!-- ***** Preloader End ***** -->

    <!-- ***** Header Area Start ***** -->
    <header class="header-area header-sticky">
      <div class="container">
        <div class="row">
          <div class="col-12">
            <nav class="main-nav">
              <!-- ***** Logo Start ***** -->
              <a href="index.html" class="logo">
                <img src="assets/images/logo1.png" alt="" />
              </a>
              <!-- ***** Logo End ***** -->
              <!-- ***** Menu Start ***** -->
              <ul class="nav">
                <li><a href="index.html">Beranda</a></li>
                <li><a href="details.php">Detail</a></li>
                <li><a href="author.php">Ulasan</a></li>
                <li>
                  <a href="create.html" class="active">Pesan Sekarang!</a>
                </li>
              </ul>
              <a class="menu-trigger">
                <span>Menu</span>
              </a>
              <!-- ***** Menu End ***** -->
            </nav>
          </div>
        </div>
      </div>
    </header>
    <!-- ***** Header Area End ***** -->
    <div class="item-details-page">
      <div class="container">
        <div class="row">
          <div class="col-lg-12">
            <div class="section-heading">
              <div class="line-dec"></div>
              <h2>Isi Formulir <em>Pemesanan</em> Disini!</h2>
            </div>
          </div>
          <div class="col-lg-12">
            <form id="contact" action="process.php" method="post">
              <div class="row">
                <div class="col-lg-4">
                  <fieldset>
                    <label for="description">Jenis Konsol</label>
                    <div class="input-select-wrapper">
                      <div class="input-container">
                        <input
                          type="text"
                          name="description"
                          id="description"
                          autocomplete="on"
                          data-value=""
                          required
                        />
                        <ul class="options" id="options">
                          <li data-value="PS 3">PS 3</li>
                          <li data-value="PS 4">PS 4</li>
                          <li data-value="PS 5">PS 5</li>
                          <li data-value="XBOX">XBOX</li>
                       </ul>                       
                      </div>
                    </div>
                  </fieldset>
                </div>
                <div class="col-lg-4">
                  <fieldset>
                    <label for="nama">Nama Lengkap</label>
                    <input
                      type="text"
                      name="nama"
                      id="nama"
                      autocomplete="on"
                      required
                    />
                  </fieldset>
                </div>
                <div class="col-lg-4">
                  <fieldset>
                    <label for="wa">No Whatsapp</label>
                    <input
                      type="text"
                      name="wa"
                      id="wa"
                      autocomplete="on"
                      required
                    />
                  </fieldset>
                </div>
                
                <div class="col-lg-4">
                  <fieldset>
                    <label for="check-in">Tanggal Pesan</label>
                    <input
                      type="date"
                      name="check-in"
                      id="check-in"
                      autocomplete="on"
                      required
                    />
                  </fieldset>
                </div>
                <div class="col-lg-4">
                  <fieldset>
                    <label for="check-out">Tanggal Kembali</label>
                    <input
                      type="date"
                      name="check-out"
                      id="check-out"
                      autocomplete="on"
                      required
                    />
                  </fieldset>
                </div>
                <div class="col-lg-4">
                  <fieldset>
                    <label for="durasi">Durasi Pemesanan (hari)</label>
                    <input type="text" name="durasi" id="durasi" readonly />
                  </fieldset>
                </div>
                <div class="div-container">
                  <div class="col-lg-4">
                    <fieldset>
                      <label for="harga">Harga</label>
                      <input type="text" name="harga" id="harga" readonly />
                    </fieldset>
                  </div>
                  <div class="buttons">
                    <div class="main-button" >
                      <button class="main-button" onclick="validateForm()">Pesan</button>
                    </div>
                  </div>
                </div>
              </div>
            </form>
          </div>
        </div>
      </div>
    </div>

    <footer>
      <div class="container">
        <div class="row">
          <div class="col-lg-12">
            <p>
              Copyright Â© 2023 <a href="#">Joy Gaze</a> Penyewaan konsol
              terbaik. &nbsp;&nbsp; Designed by
              <a
                title="HTML CSS Templates"
                rel="sponsored"
                href="https://templatemo.com"
                target="_blank"
                >TemplateMo</a
              >
            </p>
          </div>
        </div>
      </div>
    </footer>

    <!-- Scripts -->
    <!-- Bootstrap core JavaScript -->
    <script src="vendor/jquery/jquery.min.js"></script>
    <script src="vendor/bootstrap/js/bootstrap.min.js"></script>

    <script src="assets/js/isotope.min.js"></script>
    <script src="assets/js/owl-carousel.js"></script>

    <script src="assets/js/tabs.js"></script>
    <script src="assets/js/popup.js"></script>
    <script src="assets/js/custom.js"></script>

    <!-- <script>
      function handlePesanClick() {
        // Mendapatkan nilai-nilai formulir
        var uniquePaymentCode = generateUniquePaymentCode()
        var description = document.getElementById("description").value;
        var nama = document.getElementById("nama").value;
        var kontak = document.getElementById("kontak").value;
        var checkIn = document.getElementById("check-in").value;
        var checkOut = document.getElementById("check-out").value;
        var durasi = document.getElementById("durasi").value;
        var harga = document.getElementById("harga").value;

        // Menyimpan data formulir ke localStorage
        localStorage.setItem("uniquePaymentCode", uniquePaymentCode);
        localStorage.setItem("description", description);
        localStorage.setItem("nama", nama);
        localStorage.setItem("kontak", kontak);
        localStorage.setItem("checkIn", checkIn);
        localStorage.setItem("checkOut", checkOut);
        localStorage.setItem("durasi", durasi);
        localStorage.setItem("harga", harga);
      }
      function generateUniquePaymentCode() {
        var timestamp = new Date().getTime(); // Current timestamp
        var randomNum = Math.floor(Math.random() * 100); // Random number between 0 and 9999
        return "PAY-" + timestamp ;
    }
      
    </script> -->
    <script>
      document.addEventListener("DOMContentLoaded", function () {
        var checkInInput = document.getElementById("check-in");
        var checkOutInput = document.getElementById("check-out");
        var durasiInput = document.getElementById("durasi");
        var descriptionInput = document.getElementById("description");
        var hargaInput = document.getElementById("harga");

        // Mendapatkan tanggal hari ini
        var today = new Date();
        var todayISOString = today.toISOString().split("T")[0];

        // Mengatur tanggal minimal untuk check-in sebagai tanggal hari ini
        checkInInput.min = todayISOString;

        checkInInput.addEventListener("input", function () {
          updateDurationAndPrice();
          updateMaxCheckOutDate();
        });

        checkOutInput.addEventListener("input", function () {
          updateDurationAndPrice();
          updateMaxCheckOutDate();
        });

        descriptionInput.addEventListener("input", function () {
          updateDurationAndPrice();
        });

        function updateDurationAndPrice() {
          var checkInDate = new Date(checkInInput.value);
          var checkOutDate = new Date(checkOutInput.value);
          var description = descriptionInput.value;

          if (
            !isNaN(checkInDate) &&
            !isNaN(checkOutDate) &&
            checkOutDate >= checkInDate
          ) {
            var duration = Math.floor(
              (checkOutDate - checkInDate) / (1000 * 60 * 60 * 24)
            ); // Menghitung selisih hari
            durasiInput.value = duration + " hari";

            var hargaPerHari = 0;

            switch (description) {
              case "PS 3":
                hargaPerHari = 50000;
                break;
              case "PS 4":
                hargaPerHari = 60000;
                break;
              case "PS 5":
                hargaPerHari = 70000;
                break;
              case "XBOX":
                hargaPerHari = 90000; // Harga khusus untuk XBOX jika diperlukan
                break;
              default:
                hargaPerHari = 0; // Harga default jika tidak ada jenis konsol yang dipilih
                break;
            }

            var totalHarga = hargaPerHari * duration;
            hargaInput.value = "Rp " + totalHarga;
          } else {
            durasiInput.value = "";
            hargaInput.value = "";
          }
        }

        function updateMaxCheckOutDate() {
          var checkInDate = new Date(checkInInput.value);
          var maxCheckOutDate = new Date(checkInDate);
          maxCheckOutDate.setDate(maxCheckOutDate.getDate() + 3);

          if (checkOutInput.value) {
            var checkOutDate = new Date(checkOutInput.value);
            if (checkOutDate > maxCheckOutDate) {
              checkOutInput.value = maxCheckOutDate.toISOString().split("T")[0];
            }
          }

          checkOutInput.min = checkInInput.value;
          checkOutInput.max = maxCheckOutDate.toISOString().split("T")[0];
        }
      });
    </script>
  </body>
</html>
